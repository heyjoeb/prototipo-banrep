!function(e,t,a,i){"use strict";function o(e){var t="";if("undefined"==typeof e[0])return null;if(e[0].constructor===Object)for(var a in e)for(var i in e[a]){if("lat"===i)var o=e[a][i];if("lng"===i)var r=e[a][i];"name"===i&&(t+='<li><a href="#"data-zoom="15"data-position='+o+","+r+">"+e[a][i]+"</a></li>\r\n")}return t}a.Icon.Default.imagePath="images/";var r=a.map("map",{center:[13.358129,-81.366288],zoom:13}),n=a.geoCsv(null,{fieldSeparator:",",firstLineTitles:!0,onEachFeature:function(e,t){t.bindPopup(e.properties.popup)},pointToLayer:function(e,t){return a.marker(t,{icon:a.icon({iconUrl:e.properties.icon})})}});$.ajax({type:"GET",dataType:"text",url:"./datos.csv",error:function(){alert("No se pudieron cargar los datos")},success:function(e){n.addData(e),r.addLayer(n);var t=e,a=$.csv.toObjects(t),i=o(a);$("#csv-list").empty(),$("#csv-list").html(i)}}),new a.tileLayer("https://api.mapbox.com/styles/v1/heyjoeb/cio4kq5k6004xafm06nm1pg4g/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaGV5am9lYiIsImEiOiJjaW5vemYzeGgxMDUwdHZseXVicXZwbTAzIn0.7GJ_d9Xk-m50NUgRsOcnXg",{maxZoom:20,useCache:!0,tileSize:512,zoomOffset:-1,attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(r);var s=($("#sidebar").sidebar(),"https://api.mapbox.com/styles/v1/heyjoeb/cio4kq5k6004xafm06nm1pg4g/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaGV5am9lYiIsImEiOiJjaW5vemYzeGgxMDUwdHZseXVicXZwbTAzIn0.7GJ_d9Xk-m50NUgRsOcnXg"),c='Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',p=new a.TileLayer(s,{minZoom:0,maxZoom:13,attribution:c});new a.Control.MiniMap(p,{toggleDisplay:!0}).addTo(r);t.getElementById("map-navigation").onclick=function(e){var t=e.target.getAttribute("data-position"),a=e.target.getAttribute("data-zoom");if(t&&a){var i=t.split(","),o=parseInt(a);return r.setView(i,o,{animation:!0}),!1}}}(window,document,L),$(document).ready(function(){});